---
title: "Implementing <br>custom tests"
subtitle: "Developer Fundamentals — Module 3 of 4<br><br>_Click [{{< fa chevron-right >}}](#learning-objectives) to start_"
lightbox: true
# REMOVE THE SEARCH FALSE TOGGLE WHEN THE COURSE IS READY TO BE PUBLISHED
search: false
format:
  revealjs:
    controls: true
    controls-tutorial: true
    help: true
    controls-back-arrows: visible
    transition: slide
    theme: [default, ../assets/slides.scss]
    slide-number: true
    chalkboard: false
    preview-links: auto
    view-distance: 2
    logo: /validmind.png
    footer: "{{< var validmind.training >}} | [Home {{< fa person-walking-dashed-line-arrow-right >}}](/training/training.qmd)"
  html:
  # Change this to the file name prepended by a _ to get around the global HTML output settings required by _metadata.yml
    output-file: _using-validmind-for-model-development.html
    search: false
title-slide-attributes:
  data-background-color: "#083E44"
  data-background-image: "../assets/home-hero.svg"
skip_preview: true
---

# Learning objectives

_"As a **developer** who understands how to run and log out-of-the-box tests with {{< var vm.product >}}, I want to update my documentation template to  include manually inserted test results, implement, run, and log custom tests, and include those custom tests in my documentation template."_

::: {.tc}
<br>
This third module is part of a four-part series:
<br><br>
[Developer Fundamentals](/training/developer-fundamentals/developer-fundamentals-register.qmd){.button target="_blank"}
:::


## Module 3 — Contents

:::: {.columns .f3}
::: {.column width="30%" .mt4 .pr4}
### INTRODUCTION

- [{{< var vm.product >}} for model development](#validmind-for-model-development)
:::

::: {.column width="35%" .mt4 .pr4}
### PART 1

- [Implement custom inline tests](#implement-custom-tests)
- [Use external test providers](#use-external-test-providers)

:::

::: {.column width="35%" .mt4}
### PART 2 

- [Include custom test results](#include-custom-test-results)
- [Configure the model's documentation template](#configure-documentation-template)
:::
::::

First, let's make sure you can log in to {{< var vm.product >}}.

{{< include /training/assets/_revealjs-navigation.qmd >}}

## Can you log in?

To continue, you need to have been [onboarded](developer-fundamentals-register.qmd#register) onto {{< var validmind.training >}} with the [**{{< fa code >}} Developer**]{.bubble} role and completed the first two modules of this course:

:::: {.columns}
::: {.column width="60%"}
::: {.tc}
[Using {{< var vm.product >}} for model development](using-validmind-for-model-development.html){.button target="_blank"}
:::

:::
::: {.column width="40%"}
::: {.tc}
[Learning to run tests](learning-to-run-tests.html){.button target="_blank"}
:::

:::
::::


<br>Log in to check your access:

:::: {.columns}
::: {.column width="50%"}
::: {.tc}
[Log in to JupyterHub](https://jupyterhub.validmind.ai/){.button target="_blank"}
:::

:::
::: {.column width="50%"}
::: {.tc}
[Log in to {{< var vm.product >}}](https://app.prod.validmind.ai){.button target="_blank"}
:::

:::
::::

::: {.tc}
Be sure to return to this page afterwards.
:::

<!-- USING THE VARIABLE IN THE HEADING MESSES UP THE PAGE ANCHOR -->

# ValidMind for model development {background-color="#083E44" background-image="/training/assets/home-hero.svg"}

<!-- USE `.scrollable` IN AN H2  -->
## {.scrollable}

:::: {.columns}
::: {.column width="30%" .pr4 .f2}
Jupyter Notebook series

::: {.f3}
When you run these notebooks, they will generate a draft of model documentation and upload it to {{< var vm.product >}}, complete with test supporting test results.

::: {.f5 .nt2 .pl2 .mb4}
<br>

You will need have already completed **101** and **102** during the first and second modules to proceed.
:::

:::
:::

::: {.column width="70%" .bl .pl4 .f3}
### {{< var vm.product >}} for model development

Our series of four introductory notebooks for model developers include sample code and how-to information to get you started with {{< var vm.product >}}:

1. [101 Set up the {{< var validmind.developer >}}](/notebooks/tutorials/model_development/101-set_up_validmind.ipynb){target="_blank"}
2. [102 Start the model development process](/notebooks/tutorials/model_development/102-start_development_process.ipynb){target="_blank"}
3. [103 Integrate custom tests](/notebooks/tutorials/model_development/103-integrate_custom_tests.ipynb){target="_blank"}
4. [104 Finalize testing and documentation](/notebooks/tutorials/model_development/104-finalize_testing_documentation.ipynb){target="_blank"}

::: {.f4 .pl3 .pr3 .embed}
In this third module, we'll run through the remaining two notebooks **103** in PART 1 and **104** in PART 2 together.
:::

:::
::::

<br>

Let's continue our journey with **PART 1** on the next page. {{< fa hand-point-right >}}

# PART 1 {background-color="#083E44" background-image="/assets/img/solutions-hero.png"}

## {background-iframe="/notebooks/EXECUTED/model_development/103-integrate_custom_tests.html" background-interactive="yes" data-preload="yes"}

:::: {.absolute bottom=15 left=0 right=50 .w-100 .f4 .tc .pl4 .pr4 .overlay}
**103 Integrate custom tests**

::: {.f5}
This is the third notebook in our introductory series, which will walk you through how to implement different types of custom tests with {{< var vm.product >}}.

:::

**Scroll through this notebook** to explore. When you are done, click [{{< fa chevron-right >}}]() to continue.

::::

## {background-iframe="https://app.prod.validmind.ai/model-inventory" background-interactive="true" data-preload="yes"}

:::: {.absolute bottom=0 left=50 right=50 .w-95 .f4 .tc .pl4 .overlay}
**Welcome back to the model inventory**

::: {.f5}
First, let's connect back up to your model in the {{< var validmind.platform >}}:

1. Select the name of your model you registered for this course to open up the model details page.
2. On the left sidebar that appears for your model, click **Getting Started**.
3. Locate the code snippet and click **Copy snippet to clipboard**.

:::

When you're done, return to this page and click [{{< fa chevron-right >}}]() to continue.

::::

## {background-iframe="/notebooks/EXECUTED/model_development/103-integrate_custom_tests.html#initialize-the-validmind-library" data-preload="yes"}

:::: {.absolute bottom=15 .w-100 .f4 .tc .pl4 .overlay}
**Connect to your model**

::: {.f5}
With your code snippet copied to your clipboard:

1. Open **103 Integrate custom tests**: [{{< fa square-arrow-up-right >}} JupyterHub](https://jupyterhub.validmind.ai/hub/user-redirect/lab/tree/tutorials/model_development/103-integrate_custom_tests.ipynb){target="_blank"}
2. Run all the cells under the **Setting up** section.

:::

When you're done, return to this page and click [{{< fa chevron-right >}}]() to continue.

::::

# Implement custom tests {background-color="#083E44" background-image="/training/assets/home-hero.svg"}

<!-- USE `.scrollable` IN AN H2  -->
## {.scrollable}

:::: {.columns}
::: {.column width="30%" .pr4 .f2}
Custom inline tests

<!-- YOU MIGHT NEED TO MOVE THIS TO THE BOTTOM OUTSIDE OF THE 2 COLUMNS -->
<br>Try it **live** on the next pages. {{< fa hand-point-right >}}
:::

::: {.column width="70%" .bl .pl4 .f3}
Let's implement a custom *inline test* that calculates the confusion matrix for a binary classification model.

- An inline test refers to a test written and executed within the same environment as the code being tested — in the following example, right in our Jupyter Notebook —  without requiring a separate test file or framework.
- You'll note that the custom test function is just a regular Python function that can include and require any Python library as you see fit.

:::
::::

## {background-iframe="/notebooks/EXECUTED/model_development/103-integrate_custom_tests.html#create-a-confusion-matrix-plot" data-preload="yes"}

:::: {.absolute bottom=15 .w-100 .f4 .tc .pl4 .overlay}
**Create a custom test**

::: {.f5}
The [`@vm.test` wrapper](https://docs.validmind.ai/validmind/validmind.html#test) allow you to create a reusable test:

1. Open **103 Integrate custom tests**: [{{< fa square-arrow-up-right >}} JupyterHub](https://jupyterhub.validmind.ai/hub/user-redirect/lab/tree/tutorials/model_development/103-integrate_custom_tests.ipynb){target="_blank"}
2. Run all the cells in the following section under Implementing a custom inline test: **Create a confusion matrix plot**

:::

When you're done, return to this page and click [{{< fa chevron-right >}}]() to continue.

::::

## {background-iframe="/notebooks/EXECUTED/model_development/103-integrate_custom_tests.html#add-parameters-to-custom-tests" data-preload="yes"}

:::: {.absolute bottom=15 .w-100 .f4 .tc .pl4 .overlay}
**Adjust your custom test**

::: {.f5}
Custom tests can take parameters just like any other function:

1. Open **103 Integrate custom tests**: [{{< fa square-arrow-up-right >}} JupyterHub](https://jupyterhub.validmind.ai/hub/user-redirect/lab/tree/tutorials/model_development/103-integrate_custom_tests.ipynb){target="_blank"}
2. Run all the cells in the following sections under Implementing a custom inline test: <br>**Add parameters to custom tests** / **Pass parameters to custom tests**

:::

When you're done, return to this page and click [{{< fa chevron-right >}}]() to continue.

::::

## {background-iframe="/notebooks/EXECUTED/model_development/103-integrate_custom_tests.html#log-the-confusion-matrix-results" data-preload="yes"}

:::: {.absolute bottom=15 .w-100 .f4 .tc .pl4 .overlay}
**Log your custom test**

::: {.f5}
Use the [`.log()` method](/validmind/validmind/vm_models.html#TestResult.log) to send the results of your custom test to the {{< var validmind.platform >}}:

1. Open **103 Integrate custom tests**: [{{< fa square-arrow-up-right >}} JupyterHub](https://jupyterhub.validmind.ai/hub/user-redirect/lab/tree/tutorials/model_development/103-integrate_custom_tests.ipynb){target="_blank"}
2. Run the cell in the following section under Implementing a custom inline test: **Log the confusion matrix results**

:::

When you're done, return to this page and click [{{< fa chevron-right >}}]() to continue.

::::


# Use external test providers {background-color="#083E44" background-image="/training/assets/home-hero.svg"}

<!-- USE `.scrollable` IN AN H2  -->
## {.scrollable}

:::: {.columns}
::: {.column width="30%" .pr4 .f2}
Reusable custom tests

<!-- YOU MIGHT NEED TO MOVE THIS TO THE BOTTOM OUTSIDE OF THE 2 COLUMNS -->
<br>Try it **live** on the next pages. {{< fa hand-point-right >}}
:::

::: {.column width="70%" .bl .pl4 .f3}
### External test providers

Creating inline custom tests with a function is a great way to customize your model documentation.

- However, sometimes you may want to reuse the same set of tests across multiple models and share them with others in your organization.
- In this case, you can create an external custom test provider that will allow you to load custom tests from a local folder or a Git repository.

:::
::::

## {background-iframe="/notebooks/EXECUTED/model_development/103-integrate_custom_tests.html#create-custom-tests-folder" data-preload="yes"}

:::: {.absolute bottom=15 .w-100 .f4 .tc .pl4 .overlay}
**Create custom tests folder**

::: {.f5}
Create a new folder that will contain reusable custom tests from your existing inline tests:

1. Open **103 Integrate custom tests**: [{{< fa square-arrow-up-right >}} JupyterHub](https://jupyterhub.validmind.ai/hub/user-redirect/lab/tree/tutorials/model_development/103-integrate_custom_tests.ipynb){target="_blank"}
2. Run the cell under the following Using external test providers section: **Create custom tests folder**

:::

When you're done, return to this page and click [{{< fa chevron-right >}}]() to continue.

::::

## {background-iframe="/notebooks/EXECUTED/model_development/103-integrate_custom_tests.html#save-an-inline-test" data-preload="yes"}

:::: {.absolute bottom=15 .w-100 .f4 .tc .pl4 .overlay}
**Save inline test**

::: {.f5}
The `@vm.test` decorator also includes a convenience method that allows you to save the test to a Python file at a specified path:

1. Open **103 Integrate custom tests**: [{{< fa square-arrow-up-right >}} JupyterHub](https://jupyterhub.validmind.ai/hub/user-redirect/lab/tree/tutorials/model_development/103-integrate_custom_tests.ipynb){target="_blank"}
2. Run all the cells under the Using external test providers section: **Save an inline test**

:::

When you're done, return to this page and click [{{< fa chevron-right >}}]() to continue.

::::

## {background-iframe="/notebooks/EXECUTED/model_development/103-integrate_custom_tests.html#register-a-local-test-provider" data-preload="yes"}

:::: {.absolute bottom=15 .w-100 .f4 .tc .pl4 .overlay}
**Register local test provider**

::: {.f5}
Next, let's initialize a test provider that will tell the {{< var validmind.developer >}} where to find your saved custom tests:

1. Open **103 Integrate custom tests**: [{{< fa square-arrow-up-right >}} JupyterHub](https://jupyterhub.validmind.ai/hub/user-redirect/lab/tree/tutorials/model_development/103-integrate_custom_tests.ipynb){target="_blank"}
2. Run all the cells under the Using external test providers section: **Register a local test provider**

:::

When you're done, return to this page and click [{{< fa chevron-right >}}]() to continue.

::::



# PART 2 {background-color="#083E44" background-image="/assets/img/solutions-hero.png"}

## {background-iframe="/notebooks/EXECUTED/model_development/104-finalize_testing_documentation.html" background-interactive="yes" data-preload="yes"}

:::: {.absolute bottom=15 left=0 right=50 .w-100 .f4 .tc .pl4 .pr4 .overlay}
**104 Finalize testing and documentation**

::: {.f5}
This is the final notebook in our introductory series, which will walk you through wrapping custom test results into your documentation, as well as how to update the configuration for the entire model documentation template to suit your needs.
:::

**Scroll through this notebook** to explore. When you are done, click [{{< fa chevron-right >}}]() to continue.

::::

## {background-iframe="https://app.prod.validmind.ai/model-inventory" background-interactive="true" data-preload="yes"}

:::: {.absolute bottom=0 left=50 right=50 .w-95 .f4 .tc .pl4 .overlay}
**Welcome back to the model inventory**

::: {.f5}
As usual, let's connect back up to your model in the {{< var validmind.platform >}}:

1. Select the name of your model you registered for this course to open up the model details page.
2. On the left sidebar that appears for your model, click **Getting Started**.
3. Locate the code snippet and click **Copy snippet to clipboard**.

:::

When you're done, return to this page and click [{{< fa chevron-right >}}]() to continue.

::::

## {background-iframe="/notebooks/EXECUTED/model_development/104-finalize_testing_documentation.html#initialize-the-validmind-library" data-preload="yes"}

:::: {.absolute bottom=15 .w-100 .f4 .tc .pl4 .overlay}
**Connect to your model**

::: {.f5}
With your code snippet copied to your clipboard:

1. Open **104 Finalize testing and documentation**: [{{< fa square-arrow-up-right >}} JupyterHub](https://jupyterhub.validmind.ai/hub/user-redirect/lab/tree/tutorials/model_development/104-finalize_testing_documentation.ipynb){target="_blank"}
2. Run all the cells under the **Setting up** section.

:::

When you're done, return to this page and click [{{< fa chevron-right >}}]() to continue.

::::

# Include custom test results {background-color="#083E44" background-image="/training/assets/home-hero.svg"}

## {background-iframe="/notebooks/EXECUTED/model_development/104-finalize_testing_documentation.html#reconnect-to-validmind" data-preload="yes"}

:::: {.absolute bottom=15 .w-100 .f4 .tc .pl4 .overlay}
**Reconnect to {{< var vm.product >}}**

::: {.f5}
After you insert test-driven blocks into your model documentation, changes should persist and become available every time you call [`preview_template()`](https://docs.validmind.ai/validmind/validmind.html#preview_template):

1. Open **104 Finalize testing and documentation**: [{{< fa square-arrow-up-right >}} JupyterHub](https://jupyterhub.validmind.ai/hub/user-redirect/lab/tree/tutorials/model_development/104-finalize_testing_documentation.ipynb){target="_blank"}
2. Run all the cells under the **Reconnect to {{< var vm.product >}}** section.

:::

When you're done, return to this page and click [{{< fa chevron-right >}}]() to continue.

::::

## {background-iframe="/notebooks/EXECUTED/model_development/104-finalize_testing_documentation.html#include-custom-test-results" data-preload="yes"}

:::: {.absolute bottom=15 .w-100 .f4 .tc .pl4 .overlay}
**Log custom test results**

::: {.f5}
Since your custom test IDs are now part of your documentation template, you can now run tests for an entire section and all additional custom tests should be loaded without any issues:

1. Open **104 Finalize testing and documentation**: [{{< fa square-arrow-up-right >}} JupyterHub](https://jupyterhub.validmind.ai/hub/user-redirect/lab/tree/tutorials/model_development/104-finalize_testing_documentation.ipynb){target="_blank"}
2. Run the cell under the **Include custom test results** section.

:::

When you're done, return to this page and click [{{< fa chevron-right >}}]() to continue.

::::



# Configure documentation template {background-color="#083E44" background-image="/training/assets/home-hero.svg"}




# Next steps {background-color="#083E44" background-image="/training/assets/home-hero.svg"}

## {.scrollable}

:::: {.columns}
::: {.column width="30%" .pr4 .f2}
Implementing custom tests

:::

::: {.column width="70%" .bl .pl4 .f3}
In this third module, you learned how to:

- [ ] Implement, run, and log custom inline tests
- [ ] Register external test providers for reusable custom tests
- [ ] Include custom test results in your documentation template
- [ ] Configure your model's documentation template

:::
::::

::: {.tc}
<br>
Continue your model development journey with:
<br><br>
<!-- IMPORTANT: USE THE .HTML PATH AND NOT THE .QMD PATH FOR THE REVEALJS OUTPUT -->
[Finalizing model documentation](finalizing-model-documentation.html){.button}
:::