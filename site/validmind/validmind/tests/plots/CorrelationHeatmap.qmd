---
title: "[validmind](/validmind/validmind.qmd).CorrelationHeatmap"
sidebar: validmind-reference
toc-depth: 4
toc-expand: 4
# module.qmd.jinja2
---

<!-- function.qmd.jinja2 -->

## CorrelationHeatmap<span class="suffix"></span>

<!-- signatures.jinja2 -->

::: {.signature}

<span class="decorators"><span class="decorator">@<span class="n">tags(<span class="s">'tabular_data'</span>, <span class="s">'visualization'</span>, <span class="s">'correlation'</span>)</span></span>

<span class="decorator">@<span class="n">tasks(<span class="s">'classification'</span>, <span class="s">'regression'</span>, <span class="s">'clustering'</span>)</span></span> </span>

<span class="kw">def</span><span class="name">CorrelationHeatmap</span>(<span class="params"><span class="n">dataset</span><span class="p">:</span><a href="/validmind/validmind/vm_models.qmd#vmdataset">validmind.vm_models.VMDataset</a><span class="muted">,</span></span><span class="params"><span class="n">columns</span><span class="p">:</span><span class="n">Optional</span><span class="p">\[</span><span class="n">List</span><span class="p">\[</span><span class="nb">str</span><span class="p">\]</span><span class="p">\]</span><span class="o">=</span><span class="kc">None</span><span class="muted">,</span></span><span class="params"><span class="n">method</span><span class="p">:</span><span class="nb">str</span><span class="o">=</span><span class="s1">'pearson'</span><span class="muted">,</span></span><span class="params"><span class="n">show_values</span><span class="p">:</span><span class="nb">bool</span><span class="o">=</span><span class="kc">True</span><span class="muted">,</span></span><span class="params"><span class="n">colorscale</span><span class="p">:</span><span class="nb">str</span><span class="o">=</span><span class="s1">'RdBu'</span><span class="muted">,</span></span><span class="params"><span class="n">width</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="kc">800</span><span class="muted">,</span></span><span class="params"><span class="n">height</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="kc">600</span><span class="muted">,</span></span><span class="params"><span class="n">mask_upper</span><span class="p">:</span><span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="muted">,</span></span><span class="params"><span class="n">threshold</span><span class="p">:</span><span class="n">Optional</span><span class="p">\[</span><span class="nb">float</span><span class="p">\]</span><span class="o">=</span><span class="kc">None</span><span class="muted">,</span></span><span class="params"><span class="n">title</span><span class="p">:</span><span class="nb">str</span><span class="o">=</span><span class="s1">'Correlation Heatmap'</span></span>)<span class="p"> â†’ </span><span class="return-annotation"><span class="n">go</span>.<span class="n">Figure</span></span>:

:::

<!-- docstring.jinja2 -->

Generates customizable correlation heatmap plots for numerical features in a dataset using Plotly.

### Purpose

This test provides a flexible way to visualize correlations between numerical features in a dataset using interactive Plotly heatmaps. It supports different correlation methods and extensive customization options for the heatmap appearance, making it suitable for exploring feature relationships in data analysis.

### Test Mechanism

The test computes correlation coefficients between specified numerical columns (or all numerical columns if none specified) using the specified method. It then creates an interactive heatmap visualization with customizable appearance options including:

- Different correlation methods (pearson, spearman, kendall)
- Color schemes and annotations
- Masking options for upper triangle
- Threshold filtering for significant correlations
- Interactive hover information

### Signs of High Risk

- Very high correlations (>0.9) between features indicating multicollinearity
- Unexpected correlation patterns that contradict domain knowledge
- Features with no correlation to any other variables
- Strong correlations with the target variable that might indicate data leakage

### Strengths

- Supports multiple correlation methods
- Interactive Plotly plots with hover information and zoom capabilities
- Highly customizable visualization options
- Can handle missing values appropriately
- Provides clear visual representation of feature relationships
- Optional thresholding to focus on significant correlations

### Limitations

- Limited to numerical features only
- Cannot capture non-linear relationships effectively
- May be difficult to interpret with many features
- Correlation does not imply causation
