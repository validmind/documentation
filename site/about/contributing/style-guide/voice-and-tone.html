<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-11-25">

<title>Voice and tone</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="voice-and-tone_files/libs/clipboard/clipboard.min.js"></script>
<script src="voice-and-tone_files/libs/quarto-html/quarto.js"></script>
<script src="voice-and-tone_files/libs/quarto-html/popper.min.js"></script>
<script src="voice-and-tone_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="voice-and-tone_files/libs/quarto-html/anchor.min.js"></script>
<link href="voice-and-tone_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="voice-and-tone_files/libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="voice-and-tone_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="voice-and-tone_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="voice-and-tone_files/libs/bootstrap/bootstrap-abba8c2a7bf59ad0afd2a7907c827254.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="voice-and-tone_files/libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="voice-and-tone_files/libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Voice and tone</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 25, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>While we work closely with technology, the ValidMind voice prefers a <strong>human-first approach</strong>.</p>
<p>When we adapt our tone to fit the audience and context, we always aim to build a relationship and foster understanding with the person we’re trying to reach.</p>
<section id="concise-but-thorough" class="level2">
<h2 class="anchored" data-anchor-id="concise-but-thorough">Concise, but thorough</h2>
<p>Be clear and concise. Avoid unnecessary jargon or convoluted language. But when in doubt, clarify; define complex phrases and provide context for product terminology.</p>
<section id="use-active-voice" class="level3">
<h3 class="anchored" data-anchor-id="use-active-voice">Use active voice</h3>
<p>The quickest way to accomplish clarity is through use of the active voice. Active voice follows natural speaking patterns, is easy to understand, and reduces ambiguity about responsibilities especially when describing tasks.</p>
<table class="table-hover caption-top table">
<caption><strong>Active voice</strong> examples</caption>
<colgroup>
<col style="width: 54%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>Correct</th>
<th>Incorrect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>You’ll need to review the generated content.</td>
<td>The generated content will be reviewed by you.</td>
</tr>
</tbody>
</table>
</section>
<section id="dont-be-obtuse" class="level3">
<h3 class="anchored" data-anchor-id="dont-be-obtuse">Don’t be obtuse</h3>
<ul>
<li>Use exoteric (common) language whenever possible, and provide proper explanations or appropriate resources for technical terms. (You see what we did there? Parentheses — so handy.)</li>
<li>Acronyms often require domain knowledge that a reader might not have. Avoid acronyms unless you define them first.</li>
</ul>
<table class="table-hover caption-top table">
<caption><strong>Common language &amp; defining acronyms</strong> examples</caption>
<colgroup>
<col style="width: 54%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>Correct</th>
<th>Incorrect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Model risk management aims to ensure the accuracy and reliability of models, reduce operational risks, and comply with regulatory requirements such as the Comprehensive Capital Analysis and Review (CCAR) and the Dodd-Frank Act Stress Tests (DFAST).</td>
<td>MRM aims to corroborate the accuracy and reliability of models, abate OpRisk, and induce observation with regulatory requirements such as CCAR and DFAS.</td>
</tr>
</tbody>
</table>
</section>
<section id="break-it-down" class="level3">
<h3 class="anchored" data-anchor-id="break-it-down">Break it down</h3>
<ul>
<li>Divide complex ideas into simple, digestible parts.</li>
<li>Bulleted lists are your new best friend!</li>
<li>Try incorporating different mediums (such as visual aids like images, charts, etc.) to help fortify understanding, and to provide the reader respite from walls of text.</li>
</ul>
</section>
</section>
<section id="everybodys-welcome" class="level2">
<h2 class="anchored" data-anchor-id="everybodys-welcome">Everybody’s welcome</h2>
<p>Engage with your audience in a friendly, open, and encouraging manner. Every reader is here to learn, and at ValidMind we believe that experts are always enthusiastic to share their knowledge.</p>
<section id="appeal-to-humans" class="level3">
<h3 class="anchored" data-anchor-id="appeal-to-humans">Appeal to humans</h3>
<p>Behind every page, there’s a person. In every word, lies an opportunity to win your audience over.</p>
<ul>
<li><strong>Show empathy.</strong> Acknowledge user frustrations and celebrate successes.</li>
<li><strong>Inject humor when appropriate.</strong> Sometimes, a touch of levity can make technical subjects more engaging. However, keep in mind context and be judicious when applying humor.</li>
</ul>
<table class="table-hover caption-top table">
<caption><strong>Empathy &amp; humor</strong> examples</caption>
<colgroup>
<col style="width: 54%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>Correct</th>
<th>Incorrect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>User acknowledgement:</strong> Documenting findings can be difficult and tedious for even the most seasoned of validators.</td>
<td><strong>User dismissal:</strong> For experienced validators, documenting findings is a breeze.</td>
</tr>
<tr class="even">
<td><strong>Success toast:</strong> Nice work — you’ve successfully registered your first model!</td>
<td><strong>Inappropriate humor:</strong> We lost your model documentation, oops! Here, have a pony! (e.g.&nbsp;error message for serious issue)</td>
</tr>
</tbody>
</table>
</section>
<section id="be-positive" class="level3">
<h3 class="anchored" data-anchor-id="be-positive">Be positive</h3>
<p>Enable value for your audience, by empowering them.</p>
<ul>
<li><strong>Focus on solutions.</strong> Instead of highlighting what’s wrong, guide the reader to the right path. When possible, offer workarounds.</li>
<li><strong>Emphasize benefits.</strong> Clearly communicate the positive impacts and how they help the user.</li>
</ul>
<table class="table-hover caption-top table">
<caption><strong>Solutions &amp; benefits</strong> examples</caption>
<colgroup>
<col style="width: 54%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>Correct</th>
<th>Incorrect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>While the layout of these columns on this page is fixed, you can export the data which will allow you to rearrange the information as desired.</td>
<td>You can’t edit this page, or change the layout of these columns.</td>
</tr>
</tbody>
</table>
</section>
<section id="make-it-accessible" class="level3">
<h3 class="anchored" data-anchor-id="make-it-accessible">Make it accessible</h3>
<ul>
<li><strong>Be inclusive.</strong> Knowledge is for everyone, and asks for no qualifications other than curiosity. Use bias-free communication<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> to break down barriers and acknowledge the diversity of our user base.</li>
<li><strong>Not everyone uses technology the same way.</strong> To support as wide an audience as possible, provide alternative means to learn about important concepts. This can include captions and alt tags for images, table headers, and alternative formats such as transcripts for videos.</li>
</ul>
<table class="table-hover caption-top table">
<caption><strong>Bias-free communication &amp; inclusivity</strong> examples</caption>
<colgroup>
<col style="width: 54%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>Correct</th>
<th>Incorrect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>The findings are then submitted to the chair of the MRMG (model risk management group), who will then review the recommendations and provide their status assessments.</td>
<td>The findings are then submitted to the chairman of the MRMG, who will then review the recommendations and provide his status assessments.</td>
</tr>
<tr class="even">
<td><code>![Validation report section 2.1.1. that shows a compliance assessment with the option to link to evidence](link-evidence.png){fig-alt="A screenshot of the validation report section 2.1.1. that shows a compliance assessment with the option to link to evidence"}</code></td>
<td><code>![](link-evidence.png)</code></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="lets-chat" class="level2">
<h2 class="anchored" data-anchor-id="lets-chat">Let’s chat</h2>
<p>Be professional, but keep it casual and warm. Write like you would speak — imagine explaining the concept to a curious friend.</p>
<section id="make-it-personal" class="level3">
<h3 class="anchored" data-anchor-id="make-it-personal">Make it personal</h3>
<p>Address the reader directly by using the second person.</p>
<ul>
<li>Second person creates a sense of connection and reinforces a user’s agency when it comes to performing tasks.</li>
<li>It is also an easy way to remove any assumptions we may have about a user’s role, and reinforces bias-free communication.</li>
</ul>
<table class="table-hover caption-top table">
<caption><strong>2nd person</strong> examples</caption>
<colgroup>
<col style="width: 54%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>Correct</th>
<th>Incorrect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>After completing this QuickStart, you will be able to view your test results as part of your model documentation right in the ValidMind Platform.</td>
<td>After completing this QuickStart, the model developer will be able to view the test results as part of the model documentation right in the ValidMind Platform.</td>
</tr>
</tbody>
</table>
</section>
<section id="avoid-stiff-formality" class="level3">
<h3 class="anchored" data-anchor-id="avoid-stiff-formality">Avoid stiff formality</h3>
<ul>
<li>Make use of contractions where appropriate.</li>
<li>Stay away from overly formal or stilted language.</li>
<li>If there’s a simpler way to say it: say it!</li>
</ul>
<table class="table-hover caption-top table">
<caption><strong>Informal language</strong> examples</caption>
<colgroup>
<col style="width: 54%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>Correct</th>
<th>Incorrect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Once you’ve registered the model, you can then grab the unique code snippet that will have been generated for you to use in the next step.</td>
<td>First, you must register the model as this will generate a unique code snippet that needs to be copied. Then, you need to retrieve the code snippet so that you can make use of it in the following step.</td>
</tr>
</tbody>
</table>
</section>
<section id="focus-on-teamwork" class="level3">
<h3 class="anchored" data-anchor-id="focus-on-teamwork">Focus on teamwork</h3>
<p>Keep your audience involved in the process. Engage the reader with questions, and appeal to their interests.</p>
<table class="table-hover caption-top table">
<caption><strong>Audience engagement</strong> examples</caption>
<colgroup>
<col style="width: 54%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>Correct</th>
<th>Incorrect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>What if you were able to more easily, more effortlessly discern uncertainty, unleashing the full potential of your model outputs? That’s the power of ValidMind.</td>
<td>ValidMind easily and effortlessly discerns uncertainty, unleashing the full potential of model outputs.</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="whats-next" class="level2">
<h2 class="anchored" data-anchor-id="whats-next">What’s next</h2>
<ul>
<li><a href="conventions.qmd">Conventions</a></li>
</ul>
<!-- FOOTNOTES -->
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p><strong>Microsoft:</strong> <a href="https://learn.microsoft.com/en-us/style-guide/bias-free-communication">Bias-free communication</a><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>